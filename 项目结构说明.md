# ğŸ¾ å® ç‰©ç®¡ç†ç³»ç»Ÿ - é¡¹ç›®ç»“æ„ä¸æ–‡ä»¶è¯´æ˜

## ğŸ“‚ é¡¹ç›®ç›®å½•ç»“æ„

```
pet-management-system/
â”œâ”€â”€ backend/                                    # åç«¯é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ config/                                 # é…ç½®æ–‡ä»¶å¤¹
â”‚   â”‚   â””â”€â”€ database.js                        # MySQLæ•°æ®åº“è¿æ¥é…ç½® (30è¡Œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/                            # æ§åˆ¶å™¨å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ authController.js                  # è®¤è¯æ§åˆ¶å™¨ (æ³¨å†Œ/ç™»å½•/ä¸ªäººä¿¡æ¯)
â”‚   â”‚   â”œâ”€â”€ adoptionController.js              # æ”¶å…»åŠŸèƒ½æ§åˆ¶å™¨ (CRUD + ç”³è¯·)
â”‚   â”‚   â”œâ”€â”€ shopController.js                  # å•†åŸåŠŸèƒ½æ§åˆ¶å™¨ (å•†å“/è´­ç‰©è½¦/è®¢å•)
â”‚   â”‚   â””â”€â”€ socialController.js                # ç¤¾äº¤åŠŸèƒ½æ§åˆ¶å™¨ (å¸–å­/ç‚¹èµ/è¯„è®º)
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/                             # ä¸­é—´ä»¶å±‚
â”‚   â”‚   â””â”€â”€ authMiddleware.js                  # JWTè®¤è¯ä¸­é—´ä»¶ (TokenéªŒè¯/æƒé™æ£€æŸ¥)
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                                 # è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ authRoutes.js                      # è®¤è¯è·¯ç”± (/api/auth/*)
â”‚   â”‚   â”œâ”€â”€ petRoutes.js                       # å® ç‰©ç›¸å…³è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ adoptionRoutes.js                  # æ”¶å…»è·¯ç”± (/api/adoption/*)
â”‚   â”‚   â”œâ”€â”€ shopRoutes.js                      # å•†åŸè·¯ç”± (/api/shop/*)
â”‚   â”‚   â”œâ”€â”€ socialRoutes.js                    # ç¤¾äº¤è·¯ç”± (/api/social/*)
â”‚   â”‚   â””â”€â”€ adminRoutes.js                     # ç®¡ç†åå°è·¯ç”± (/api/admin/*)
â”‚   â”‚
â”‚   â”œâ”€â”€ public/                                 # é™æ€èµ„æºæ–‡ä»¶å¤¹
â”‚   â”‚   â””â”€â”€ images/                            # å›¾ç‰‡å­˜å‚¨ç›®å½•
â”‚   â”‚       â”œâ”€â”€ dog1.jpg                       # ç¤ºä¾‹å›¾ç‰‡ - é‡‘æ¯›çŠ¬
â”‚   â”‚       â”œâ”€â”€ dog2.jpg                       # ç¤ºä¾‹å›¾ç‰‡ - æ‹‰å¸ƒæ‹‰å¤š
â”‚   â”‚       â”œâ”€â”€ dog3.jpg                       # ç¤ºä¾‹å›¾ç‰‡ - å“ˆå£«å¥‡
â”‚   â”‚       â”œâ”€â”€ cat1.jpg                       # ç¤ºä¾‹å›¾ç‰‡ - è‹±çŸ­çŒ«
â”‚   â”‚       â”œâ”€â”€ cat2.jpg                       # ç¤ºä¾‹å›¾ç‰‡ - æ©˜çŒ«
â”‚   â”‚       â””â”€â”€ upload-*.jpg                   # ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ node_modules/                           # npmä¾èµ–åŒ…ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ server.js                               # â­ ä¸»æœåŠ¡å™¨æ–‡ä»¶ (2072è¡Œ)
â”‚   â”‚                                          # åŒ…å«ï¼šExpressé…ç½®ã€æ‰€æœ‰APIã€ç®¡ç†åå°HTMLç•Œé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ package.json                            # é¡¹ç›®ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ package-lock.json                       # ä¾èµ–é”å®šæ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ .env                                    # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼Œä¸æäº¤Gitï¼‰
â”‚   â”œâ”€â”€ .env.example                            # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ createAdmin.js                          # å·¥å…·è„šæœ¬ï¼šåˆ›å»ºç®¡ç†å‘˜è´¦å· (58è¡Œ)
â”‚   â”œâ”€â”€ createUsersAndPosts.js                  # å·¥å…·è„šæœ¬ï¼šåˆ›å»ºæµ‹è¯•ç”¨æˆ·å’Œå¸–å­ (171è¡Œ)
â”‚   â”œâ”€â”€ addSampleData.js                        # å·¥å…·è„šæœ¬ï¼šæ·»åŠ æ”¶å…»ç¤ºä¾‹æ•°æ® (133è¡Œ)
â”‚   â”œâ”€â”€ fixAllIssues.js                         # å·¥å…·è„šæœ¬ï¼šä¿®å¤æ•°æ®åº“é—®é¢˜ (142è¡Œ)
â”‚   â”œâ”€â”€ replaceAllImages.js                     # å·¥å…·è„šæœ¬ï¼šæ‰¹é‡æ›¿æ¢å›¾ç‰‡URL (112è¡Œ)
â”‚   â”œâ”€â”€ updateImageUrls.js                      # å·¥å…·è„šæœ¬ï¼šæ›´æ–°å›¾ç‰‡ç«¯å£å· (78è¡Œ)
â”‚   â”œâ”€â”€ resetAdmin.js                           # å·¥å…·è„šæœ¬ï¼šé‡ç½®ç®¡ç†å‘˜å¯†ç  (32è¡Œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ test-admin.html                         # æµ‹è¯•é¡µé¢ï¼šç®¡ç†åå°APIæµ‹è¯• (338è¡Œ)
â”‚   â””â”€â”€ test-login.html                         # æµ‹è¯•é¡µé¢ï¼šç™»å½•åŠŸèƒ½æµ‹è¯• (48è¡Œ)
â”‚
â”œâ”€â”€ frontend/                                   # å‰ç«¯é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ src/                                    # æºä»£ç æ–‡ä»¶å¤¹
â”‚   â”‚   â”œâ”€â”€ components/                        # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.js                     # é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.js                     # é¡µé¢åº•éƒ¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ...                           # å…¶ä»–ç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/                             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ HomePage.js                   # é¦–é¡µï¼ˆå±•ç¤ºæœ€æ–°å†…å®¹ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ AdoptionPage.js               # å® ç‰©æ”¶å…»é¡µé¢ï¼ˆåˆ—è¡¨/è¯¦æƒ…/ç”³è¯·ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ShopPage.js                   # å® ç‰©å•†åŸé¡µé¢ï¼ˆå•†å“/è´­ç‰©è½¦/ä¸‹å•ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ SocialPage.js                 # ç¤¾äº¤å¹¿åœºé¡µé¢ï¼ˆå¸–å­/ç‚¹èµ/è¯„è®ºï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.js                  # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterPage.js               # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ ProfilePage.js                # ä¸ªäººä¸­å¿ƒé¡µé¢ï¼ˆè®¢å•/ç”³è¯·ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/                          # APIæœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ api.js                        # APIè¯·æ±‚å°è£…ï¼ˆAxiosé…ç½®+æ‰€æœ‰APIæ–¹æ³•ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ App.js                             # åº”ç”¨ä¸»ç»„ä»¶ï¼ˆè·¯ç”±é…ç½®ï¼‰
â”‚   â”‚   â”œâ”€â”€ App.css                            # å…¨å±€æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.js                           # Reactå…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.css                          # åŸºç¡€æ ·å¼æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ public/                                 # å…¬å…±é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ index.html                         # HTMLæ¨¡æ¿
â”‚   â”‚   â””â”€â”€ favicon.ico                        # ç½‘ç«™å›¾æ ‡
â”‚   â”‚
â”‚   â”œâ”€â”€ node_modules/                           # npmä¾èµ–åŒ…ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ package.json                            # é¡¹ç›®ä¾èµ–é…ç½®
â”‚   â””â”€â”€ package-lock.json                       # ä¾èµ–é”å®šæ–‡ä»¶
â”‚
â”œâ”€â”€ database/                                   # æ•°æ®åº“ç›¸å…³æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ schema.sql                             # æ•°æ®åº“è¡¨ç»“æ„SQL
â”‚   â””â”€â”€ init.sql                               # åˆå§‹åŒ–æ•°æ®SQL
â”‚
â”œâ”€â”€ ä½¿ç”¨è¯´æ˜.md                                 # é¡¹ç›®ä½¿ç”¨æ‰‹å†Œ (å®Œæ•´æŒ‡å—)
â”œâ”€â”€ å®Œæ•´ä¿®å¤æŠ¥å‘Š.md                             # é—®é¢˜ä¿®å¤è®°å½• (å¼€å‘æ—¥å¿—)
â”œâ”€â”€ é¡¹ç›®æ±‡æŠ¥æ–‡æ¡£.md                             # é¡¹ç›®æ±‡æŠ¥æ–‡æ¡£ (æœ¬æ–‡æ¡£)
â”œâ”€â”€ PPTå¤§çº².md                                  # PPTæ¼”è®²ç¨¿å¤§çº²
â””â”€â”€ é¡¹ç›®ç»“æ„è¯´æ˜.md                             # é¡¹ç›®ç»“æ„æ¸…å• (å½“å‰æ–‡æ¡£)
```

---

## ğŸ“„ æ ¸å¿ƒæ–‡ä»¶è¯¦ç»†è¯´æ˜

### åç«¯æ ¸å¿ƒæ–‡ä»¶

#### 1. server.js (2072è¡Œ) - åç«¯ä¸»æœåŠ¡å™¨ â­â­â­â­â­
**ä½œç”¨**ï¼šæ•´ä¸ªåç«¯çš„æ ¸å¿ƒï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½

**å†…å®¹ç»“æ„**ï¼š
```javascript
// ç¬¬1-40è¡Œï¼šå¯¼å…¥ä¾èµ–å’Œé…ç½®
require('express'), require('cors'), require('mysql2')...

// ç¬¬41-70è¡Œï¼šMulterå›¾ç‰‡ä¸Šä¼ é…ç½®
storage, fileFilter, uploadé…ç½®

// ç¬¬74-145è¡Œï¼šç®¡ç†å‘˜ç™»å½•API
POST /admin/api/login

// ç¬¬148-163è¡Œï¼šTokenéªŒè¯ä¸­é—´ä»¶
verifyAdminToken()

// ç¬¬166-329è¡Œï¼šç®¡ç†åå°API
- ç»Ÿè®¡æ•°æ® GET /admin/api/statistics
- ç”¨æˆ·ç®¡ç† GET/PUT/DELETE /admin/api/users
- å¸–å­ç®¡ç† GET/DELETE /admin/api/posts
- æ”¶å…»ç®¡ç† GET/POST/PUT/DELETE /admin/api/adoptions
- è®¢å•ç®¡ç† GET/PUT /admin/api/orders

// ç¬¬330-463è¡Œï¼šå•†å“ç®¡ç†API + å›¾ç‰‡ä¸Šä¼ API
- æ™ºèƒ½å›¾ç‰‡URLè§£æ
- å•å›¾/å¤šå›¾ä¸Šä¼ 

// ç¬¬535-1783è¡Œï¼šç®¡ç†åå°å®Œæ•´HTMLç•Œé¢
- ç™»å½•é¡µé¢
- ç®¡ç†åå°ç•Œé¢ï¼ˆæ•°æ®æ¦‚è§ˆ/ç”¨æˆ·ç®¡ç†/å•†å“ç®¡ç†ç­‰ï¼‰
- Toasté€šçŸ¥ç³»ç»Ÿ
- Modalå¯¹è¯æ¡†
- å®Œæ•´JavaScriptäº¤äº’é€»è¾‘

// ç¬¬1787-2032è¡Œï¼šæ ¹è·¯ç”±HTMLé¡µé¢
GET / - æ˜¾ç¤ºAPIæ–‡æ¡£é¡µé¢

// ç¬¬2035-2048è¡Œï¼šè·¯ç”±æŒ‚è½½
app.use('/api/auth', authRoutes)
app.use('/api/adoption', adoptionRoutes)...

// ç¬¬2050-2072è¡Œï¼šé”™è¯¯å¤„ç† + æœåŠ¡å™¨å¯åŠ¨
app.listen(PORT)
```

**å…³é”®åŠŸèƒ½**ï¼š
- âœ… ExpressæœåŠ¡å™¨åˆå§‹åŒ–
- âœ… å®Œæ•´çš„ç®¡ç†åå°UIï¼ˆåµŒå…¥åœ¨åŒä¸€æ–‡ä»¶ä¸­ï¼‰
- âœ… æ‰€æœ‰ç®¡ç†APIæ¥å£
- âœ… å›¾ç‰‡ä¸Šä¼ é…ç½®
- âœ… JWTè®¤è¯
- âœ… é”™è¯¯å¤„ç†

**ä¸ºä»€ä¹ˆé‡è¦**ï¼š
- è¿™æ˜¯æ•´ä¸ªåç«¯çš„å…¥å£æ–‡ä»¶
- åŒ…å«äº†ç®¡ç†åå°çš„å®Œæ•´HTML/CSS/JavaScript
- æ‰€æœ‰APIè·¯ç”±éƒ½åœ¨è¿™é‡ŒæŒ‚è½½
- é¿å…äº†åˆ›å»ºç‹¬ç«‹ç®¡ç†å‰ç«¯é¡¹ç›®çš„å¤æ‚æ€§

---

#### 2. config/database.js (30è¡Œ) - æ•°æ®åº“è¿æ¥é…ç½®
**ä½œç”¨**ï¼šåˆ›å»ºMySQLè¿æ¥æ± ï¼Œä¾›æ‰€æœ‰æ¨¡å—ä½¿ç”¨

**ä»£ç ç»“æ„**ï¼š
```javascript
const mysql = require('mysql2/promise');

const pool = mysql.createPool({
  host: process.env.DB_HOST || 'localhost',
  user: process.env.DB_USER || 'root',
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME || 'pet_management',
  waitForConnections: true,
  connectionLimit: 10,      // æœ€å¤š10ä¸ªå¹¶å‘è¿æ¥
  queueLimit: 0
});

module.exports = pool;
```

**å…³é”®æ¦‚å¿µ**ï¼š
- è¿æ¥æ± å¤ç”¨ï¼šé¿å…æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºæ–°è¿æ¥
- ç¯å¢ƒå˜é‡ï¼šæ•æ„Ÿä¿¡æ¯ä¸ç¡¬ç¼–ç 

---

#### 3. middleware/authMiddleware.js - JWTè®¤è¯ä¸­é—´ä»¶
**ä½œç”¨**ï¼šéªŒè¯ç”¨æˆ·Tokenï¼Œä¿æŠ¤éœ€è¦ç™»å½•çš„API

**æ ¸å¿ƒé€»è¾‘**ï¼š
```javascript
const jwt = require('jsonwebtoken');

const authenticate = (req, res, next) => {
  // 1. ä»è¯·æ±‚å¤´è·å–Token
  const token = req.headers.authorization?.replace('Bearer ', '');

  if (!token) {
    return res.status(401).json({ message: 'æœªæä¾›Token' });
  }

  try {
    // 2. éªŒè¯Token
    const decoded = jwt.verify(token, process.env.JWT_SECRET);

    // 3. å°†ç”¨æˆ·ä¿¡æ¯é™„åŠ åˆ°è¯·æ±‚å¯¹è±¡
    req.user = decoded;

    // 4. ç»§ç»­ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    next();
  } catch (error) {
    return res.status(401).json({ message: 'Tokenæ— æ•ˆ' });
  }
};

module.exports = { authenticate };
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```javascript
// åœ¨è·¯ç”±ä¸­ä½¿ç”¨
router.get('/profile', authenticate, (req, res) => {
  // req.user åŒ…å«ç”¨æˆ·ä¿¡æ¯
  res.json({ user: req.user });
});
```

---

#### 4. routes/ - è·¯ç”±å±‚æ–‡ä»¶

##### authRoutes.js - è®¤è¯è·¯ç”±
```javascript
router.post('/register', authController.register);   // æ³¨å†Œ
router.post('/login', authController.login);         // ç™»å½•
router.get('/me', authenticate, authController.getProfile);  // è·å–ä¸ªäººä¿¡æ¯
router.put('/profile', authenticate, authController.updateProfile);  // æ›´æ–°ä¸ªäººä¿¡æ¯
```

##### adoptionRoutes.js - æ”¶å…»è·¯ç”±
```javascript
router.get('/adoptions', adoptionController.getList);           // è·å–æ”¶å…»åˆ—è¡¨
router.get('/adoptions/:id', adoptionController.getDetail);     // è·å–è¯¦æƒ…
router.post('/adoptions', authenticate, adoptionController.create);  // å‘å¸ƒæ”¶å…»
router.post('/adoptions/:id/apply', authenticate, adoptionController.apply);  // ç”³è¯·æ”¶å…»
```

##### shopRoutes.js - å•†åŸè·¯ç”±
```javascript
router.get('/products', shopController.getProducts);            // è·å–å•†å“åˆ—è¡¨
router.post('/cart', authenticate, shopController.addToCart);   // æ·»åŠ è´­ç‰©è½¦
router.post('/orders', authenticate, shopController.createOrder);  // åˆ›å»ºè®¢å•
```

##### socialRoutes.js - ç¤¾äº¤è·¯ç”±
```javascript
router.get('/posts', socialController.getPosts);                // è·å–å¸–å­åˆ—è¡¨
router.post('/posts', authenticate, socialController.createPost);  // å‘å¸ƒå¸–å­
router.post('/posts/:id/like', authenticate, socialController.toggleLike);  // ç‚¹èµ
router.post('/posts/:id/comments', authenticate, socialController.addComment);  // è¯„è®º
```

---

#### 5. controllers/ - æ§åˆ¶å™¨å±‚æ–‡ä»¶
**ä½œç”¨**ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨æ•°æ®åº“ï¼Œè¿”å›å“åº”

**å…¸å‹ç»“æ„**ï¼š
```javascript
// authController.js
const db = require('../config/database');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');

exports.register = async (req, res) => {
  try {
    const { username, password, email } = req.body;

    // 1. éªŒè¯è¾“å…¥
    if (!username || !password || !email) {
      return res.json({ success: false, message: 'ç¼ºå°‘å¿…å¡«å­—æ®µ' });
    }

    // 2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨
    const [existing] = await db.query('SELECT * FROM users WHERE username = ?', [username]);
    if (existing.length > 0) {
      return res.json({ success: false, message: 'ç”¨æˆ·åå·²å­˜åœ¨' });
    }

    // 3. åŠ å¯†å¯†ç 
    const hashedPassword = await bcrypt.hash(password, 10);

    // 4. æ’å…¥æ•°æ®åº“
    const [result] = await db.query(
      'INSERT INTO users (username, password, email) VALUES (?, ?, ?)',
      [username, hashedPassword, email]
    );

    // 5. ç”ŸæˆToken
    const token = jwt.sign({ id: result.insertId }, process.env.JWT_SECRET, { expiresIn: '7d' });

    // 6. è¿”å›å“åº”
    res.json({
      success: true,
      message: 'æ³¨å†ŒæˆåŠŸ',
      data: { userId: result.insertId, token }
    });
  } catch (error) {
    res.json({ success: false, message: error.message });
  }
};
```

---

#### 6. å·¥å…·è„šæœ¬è¯´æ˜

##### createAdmin.js - åˆ›å»ºç®¡ç†å‘˜
**åŠŸèƒ½**ï¼šåˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·
**ä½¿ç”¨**ï¼š`node createAdmin.js`
**åˆ›å»º**ï¼šusername=admin, password=admin123

##### createUsersAndPosts.js - åˆ›å»ºæµ‹è¯•æ•°æ®
**åŠŸèƒ½**ï¼šåˆ›å»º10ä¸ªæµ‹è¯•ç”¨æˆ· + 31ä¸ªå¸–å­
**æ•°æ®**ï¼šç”¨æˆ·ï¼ˆuser1-user10ï¼‰ã€å¸–å­ï¼ˆå¸¦å›¾ç‰‡ã€æ ‡ç­¾ã€ç‚¹èµã€è¯„è®ºï¼‰

##### addSampleData.js - æ·»åŠ æ”¶å…»æ•°æ®
**åŠŸèƒ½**ï¼šåˆ›å»º16ä¸ªå¾…æ”¶å…»å® ç‰©ä¿¡æ¯
**æ•°æ®**ï¼šä¸åŒç‰©ç§ï¼ˆç‹—/çŒ«ï¼‰ã€å“ç§ã€å¹´é¾„ã€ç…§ç‰‡

##### fixAllIssues.js - æ•°æ®ä¿®å¤
**åŠŸèƒ½**ï¼šä¿®å¤åŒé‡JSONç¼–ç ã€ç»Ÿä¸€ç«¯å£ã€éªŒè¯æ•°æ®
**é€‚ç”¨**ï¼šæ•°æ®åº“å‡ºç°é—®é¢˜æ—¶è¿è¡Œ

##### replaceAllImages.js - å›¾ç‰‡æ›¿æ¢
**åŠŸèƒ½**ï¼šæ‰¹é‡å°†æ‰€æœ‰å›¾ç‰‡URLæ›¿æ¢ä¸ºlocalhost:3001æœ¬åœ°å›¾ç‰‡
**æ›´æ–°**ï¼š13ä¸ªå•†å“ã€16ä¸ªæ”¶å…»ã€26ä¸ªå¸–å­

---

### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶

#### 1. src/App.js - åº”ç”¨ä¸»ç»„ä»¶
**ä½œç”¨**ï¼šé…ç½®è·¯ç”±ï¼Œå®šä¹‰æ•´ä½“å¸ƒå±€

**ä»£ç ç»“æ„**ï¼š
```javascript
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import Header from './components/Header';
import HomePage from './pages/HomePage';
import AdoptionPage from './pages/AdoptionPage';
// ... å…¶ä»–å¯¼å…¥

function App() {
  return (
    <Router>
      <div className="App">
        <Header />
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/adoption" element={<AdoptionPage />} />
          <Route path="/shop" element={<ShopPage />} />
          <Route path="/social" element={<SocialPage />} />
          <Route path="/login" element={<LoginPage />} />
          <Route path="/register" element={<RegisterPage />} />
          <Route path="/profile" element={<ProfilePage />} />
        </Routes>
      </div>
    </Router>
  );
}
```

**å…³é”®åŠŸèƒ½**ï¼š
- è·¯ç”±é…ç½®ï¼ˆReact Router v6ï¼‰
- å…¨å±€å¸ƒå±€ï¼ˆHeader + é¡µé¢å†…å®¹ï¼‰

---

#### 2. src/services/api.js - APIæœåŠ¡å±‚
**ä½œç”¨**ï¼šå°è£…æ‰€æœ‰APIè¯·æ±‚ï¼Œç»Ÿä¸€ç®¡ç†

**ä»£ç ç»“æ„**ï¼š
```javascript
import axios from 'axios';

// Axioså®ä¾‹é…ç½®
const api = axios.create({
  baseURL: 'http://localhost:3001',
  timeout: 10000
});

// è¯·æ±‚æ‹¦æˆªå™¨ï¼ˆè‡ªåŠ¨æ·»åŠ Tokenï¼‰
api.interceptors.request.use(config => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// å“åº”æ‹¦æˆªå™¨ï¼ˆç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰
api.interceptors.response.use(
  response => response.data,
  error => {
    if (error.response?.status === 401) {
      // Tokenè¿‡æœŸï¼Œè·³è½¬ç™»å½•
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

// APIæ–¹æ³•å°è£…
export const authAPI = {
  login: (data) => api.post('/api/auth/login', data),
  register: (data) => api.post('/api/auth/register', data),
  getProfile: () => api.get('/api/auth/me')
};

export const adoptionAPI = {
  getList: (params) => api.get('/api/adoption/adoptions', { params }),
  getDetail: (id) => api.get(`/api/adoption/adoptions/${id}`),
  apply: (id, data) => api.post(`/api/adoption/adoptions/${id}/apply`, data)
};

export const shopAPI = {
  getProducts: (params) => api.get('/api/shop/products', { params }),
  addToCart: (data) => api.post('/api/shop/cart', data),
  createOrder: (data) => api.post('/api/shop/orders', data)
};

export const socialAPI = {
  getPosts: (params) => api.get('/api/social/posts', { params }),
  createPost: (data) => api.post('/api/social/posts', data),
  toggleLike: (id) => api.post(`/api/social/posts/${id}/like`),
  addComment: (id, data) => api.post(`/api/social/posts/${id}/comments`, data)
};

export const uploadAPI = {
  uploadSingle: (file) => {
    const formData = new FormData();
    formData.append('image', file);
    return api.post('/api/upload/single', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    });
  }
};
```

**å…³é”®åŠŸèƒ½**ï¼š
- ç»Ÿä¸€åŸºç¡€URLé…ç½®
- è‡ªåŠ¨æ·»åŠ Tokenåˆ°è¯·æ±‚å¤´
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- åˆ†æ¨¡å—å¯¼å‡ºAPIæ–¹æ³•

---

#### 3. src/pages/ - é¡µé¢ç»„ä»¶

##### HomePage.js - é¦–é¡µ
**åŠŸèƒ½**ï¼šå±•ç¤ºå¹³å°ä»‹ç»ã€æœ€æ–°å¸–å­ã€çƒ­é—¨æ”¶å…»ä¿¡æ¯
**ç‰¹ç‚¹**ï¼šè½®æ’­å›¾ã€å¡ç‰‡å¼å¸ƒå±€

##### AdoptionPage.js - æ”¶å…»é¡µé¢
**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ‰€æœ‰å¾…æ”¶å…»å® ç‰©åˆ—è¡¨
- ç­›é€‰åŠŸèƒ½ï¼ˆç‰©ç§ã€å“ç§ã€ä½ç½®ï¼‰
- ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
- ç”³è¯·æ”¶å…»è¡¨å•

**å…³é”®ä»£ç **ï¼š
```javascript
useEffect(() => {
  fetchAdoptions();
}, []);

const fetchAdoptions = async () => {
  try {
    const res = await adoptionAPI.getList({ status: 'available' });
    setAdoptions(res.data);
  } catch (error) {
    message.error('åŠ è½½å¤±è´¥');
  }
};
```

##### ShopPage.js - å•†åŸé¡µé¢
**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºå•†å“åˆ—è¡¨
- åˆ†ç±»ç­›é€‰
- æ·»åŠ è´­ç‰©è½¦
- ä¸‹å•è´­ä¹°

##### SocialPage.js - ç¤¾äº¤å¹¿åœº
**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ‰€æœ‰å¸–å­
- å‘å¸ƒæ–°å¸–å­
- ç‚¹èµ/å–æ¶ˆç‚¹èµ
- è¯„è®ºåŠŸèƒ½

---

## ğŸ”§ æŠ€æœ¯ä¾èµ–è¯´æ˜

### åç«¯ package.json
```json
{
  "dependencies": {
    "bcryptjs": "^2.4.3",        // å¯†ç åŠ å¯†
    "body-parser": "^1.20.2",    // è¯·æ±‚ä½“è§£æ
    "cors": "^2.8.5",            // è·¨åŸŸå¤„ç†
    "dotenv": "^16.3.1",         // ç¯å¢ƒå˜é‡
    "express": "^4.18.2",        // Webæ¡†æ¶
    "jsonwebtoken": "^9.0.2",    // JWTè®¤è¯
    "multer": "^1.4.5-lts.1",    // æ–‡ä»¶ä¸Šä¼ 
    "mysql2": "^3.6.5"           // MySQLé©±åŠ¨
  }
}
```

### å‰ç«¯ package.json
```json
{
  "dependencies": {
    "react": "^18.2.0",          // Reactæ¡†æ¶
    "react-dom": "^18.2.0",      // React DOM
    "react-router-dom": "^6.x",  // è·¯ç”±
    "axios": "^1.x",             // HTTPå®¢æˆ·ç«¯
    "antd": "^5.x"               // UIç»„ä»¶åº“
  }
}
```

---

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

### æ ¸å¿ƒè¡¨
1. **users** - ç”¨æˆ·è¡¨ï¼ˆ10æ¡è®°å½•ï¼‰
2. **posts** - å¸–å­è¡¨ï¼ˆ31æ¡è®°å½•ï¼‰
3. **adoptions** - æ”¶å…»è¡¨ï¼ˆ16æ¡è®°å½•ï¼‰
4. **products** - å•†å“è¡¨ï¼ˆ13æ¡è®°å½•ï¼‰
5. **orders** - è®¢å•è¡¨ï¼ˆ1æ¡è®°å½•ï¼‰

### å…³è”è¡¨
6. **order_items** - è®¢å•æ˜ç»†è¡¨
7. **likes** - ç‚¹èµè¡¨
8. **comments** - è¯„è®ºè¡¨
9. **adoption_applications** - æ”¶å…»ç”³è¯·è¡¨
10. **tags** - æ ‡ç­¾è¡¨

è¯¦ç»†è¡¨ç»“æ„è¯·å‚è€ƒ `é¡¹ç›®æ±‡æŠ¥æ–‡æ¡£.md` ç¬¬7ç« ã€‚

---

## ğŸ¯ å¿«é€Ÿå®šä½æŒ‡å—

### éœ€è¦ä¿®æ”¹APIæ¥å£ï¼Ÿ
ğŸ“ `backend/routes/` â†’ æ‰¾åˆ°å¯¹åº”è·¯ç”±æ–‡ä»¶ â†’ ä¿®æ”¹è·¯ç”±å®šä¹‰
ğŸ“ `backend/controllers/` â†’ æ‰¾åˆ°å¯¹åº”æ§åˆ¶å™¨ â†’ ä¿®æ”¹ä¸šåŠ¡é€»è¾‘

### éœ€è¦ä¿®æ”¹å‰ç«¯é¡µé¢ï¼Ÿ
ğŸ“ `frontend/src/pages/` â†’ æ‰¾åˆ°å¯¹åº”é¡µé¢ç»„ä»¶ â†’ ä¿®æ”¹JSXå’Œæ ·å¼

### éœ€è¦ä¿®æ”¹ç®¡ç†åå°ï¼Ÿ
ğŸ“ `backend/server.js` â†’ ç¬¬535-1783è¡Œ â†’ ä¿®æ”¹HTML/CSS/JavaScript

### éœ€è¦ä¿®æ”¹æ•°æ®åº“ï¼Ÿ
ğŸ“ `backend/config/database.js` â†’ ä¿®æ”¹è¿æ¥é…ç½®
ğŸ“ `database/schema.sql` â†’ ä¿®æ”¹è¡¨ç»“æ„

### éœ€è¦æ·»åŠ æ–°åŠŸèƒ½ï¼Ÿ
1. åˆ›å»ºæ–°çš„è·¯ç”±æ–‡ä»¶ï¼š`backend/routes/newFeatureRoutes.js`
2. åˆ›å»ºæ–°çš„æ§åˆ¶å™¨ï¼š`backend/controllers/newFeatureController.js`
3. åœ¨ `server.js` ä¸­æŒ‚è½½è·¯ç”±ï¼š`app.use('/api/newfeature', newFeatureRoutes)`
4. åˆ›å»ºå‰ç«¯é¡µé¢ï¼š`frontend/src/pages/NewFeaturePage.js`
5. åœ¨ `App.js` ä¸­æ·»åŠ è·¯ç”±ï¼š`<Route path="/newfeature" element={<NewFeaturePage />} />`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **ä½¿ç”¨æ‰‹å†Œ**ï¼š`ä½¿ç”¨è¯´æ˜.md` - è¯¦ç»†çš„ç”¨æˆ·ä½¿ç”¨æŒ‡å—
- **æ±‡æŠ¥æ–‡æ¡£**ï¼š`é¡¹ç›®æ±‡æŠ¥æ–‡æ¡£.md` - å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£
- **PPTå¤§çº²**ï¼š`PPTå¤§çº².md` - æ¼”è®²PPTåˆ¶ä½œæŒ‡å—
- **ä¿®å¤æŠ¥å‘Š**ï¼š`å®Œæ•´ä¿®å¤æŠ¥å‘Š.md` - é—®é¢˜ä¿®å¤è®°å½•

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æ›´æ–°æ—¥æœŸ**ï¼š2025-12-08
**ä½œè€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
